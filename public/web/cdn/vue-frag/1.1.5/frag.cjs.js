"use strict";var e=Symbol(),r=Symbol(),t=Symbol(),i=Symbol();function n(r,t){r[e]||(r[e]=t,Object.defineProperty(r,"parentNode",{get:function(){return this[e]||this.parentElement}}))}var a=function(r,t){var i=r.splice(0);t.append.apply(t,i),i.forEach((function(r){r[e]=void 0}))};function f(e,r){var i,a=this,f=e.frag||[e];if(this.frag){var o,s=this.frag.indexOf(r);if(s>-1)(o=this.frag).splice.apply(o,[s,0].concat(f))}if(this[t]){var h=this[t].get(r);h&&(r=h[0])}r?(i=r).before.apply(i,f):this.append.apply(this,f);f.forEach((function(e){return n(e,a)}))}function o(r){if(this.frag){var n=this.frag.indexOf(r);if(n>-1){var f,o=[n,1];if(1===this.frag.length){var s=this[i];this.frag[0].before(s),o.push(s)}(f=this.frag).splice.apply(f,o)}}var h=this[t];if(h){var c=h.get(r);if(c)return a(c,r),h.delete(r),void(r[e]=void 0)}r.remove()}var s={insertBefore:f,removeChild:o};var h={insertBefore:f,before:function(e){this.frag[0].before(e)},remove:function(){var e=this[i],r=this.frag,t=r.splice(0,r.length,e);t[0].before(this[i]),t.forEach((function(e){return e.remove()}))},removeChild:o,appendChild:function(e){var r=this.frag.length;this.frag[r-1].after(e);var t=this[i];this.frag[0]===t&&(this.frag.splice(0,1),t.remove()),n(e,this),this.frag.push(e)}},c={inserted:function(e){var a=e.parentNode,f=e.nextSibling,o=Array.from(e.childNodes);e.frag=o;var c=document.createComment("");e[i]=c,0===o.length&&o.push(c);var p,d,l,u,g,v=document.createDocumentFragment();v.append.apply(v,o),e.replaceWith(v),d=e,l=o,(p=a)[t]||(p[t]=new Map,Object.assign(p,s)),p[t].set(d,l),n(e,a),g=f,(u=e).hasOwnProperty(r)||(u[r]=g,Object.defineProperty(u,"nextSibling",{get:function(){if(!this.hasOwnProperty(r)){var e=Array.from(this.parentNode.childNodes).indexOf(this);return this.parentNode.childNodes.item(e+1)}return this[r]}})),o.forEach((function(r){return n(r,e)})),Object.defineProperty(e,"innerHTML",{set:function(r){var t=document.createElement("div");t.innerHTML=r;var i=e.frag.length;Array.from(t.childNodes).forEach((function(r){return e.appendChild(r)})),t.append.apply(t,e.frag.splice(0,i))},get:function(){return""}}),Object.assign(e,h)},unbind:function(e){a(e.frag,e),e[i].remove()}};module.exports=c;
