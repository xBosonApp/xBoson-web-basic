!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vuxVideo=t():e.vuxVideo=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";function n(e,t){return parseInt(e.style[t]||window.getComputedStyle(e,null).getPropertyValue(t))}function o(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function s(e,t){e.classList?e.classList.add(t):o(e,t)||(e.className+=""+t)}function a(e,t){e.classList?e.classList.remove(t):o(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function r(e,t){(!isFinite(e)||e<0)&&(e=0);var i=t.alwaysShowHours?[0]:[];return Math.floor(e/3600)%24&&i.push(Math.floor(e/3600)%24),i.push(Math.floor(e/60)%60),i.push(Math.floor(e%60)),i=i.join(":"),1==t.timeFormatType&&(i=i.replace(/(:|^)([0-9])(?=:|$)/g,"$10$2")),i}function l(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen}function d(e){e=e.toLowerCase().split("?")[0];var t=e.substring(e.lastIndexOf(".")+1),i=/mp4|m4v|ogg|ogv|m3u8|webm|webmv|wmv|mpeg|mov/gi.test(t)?"video/":"audio/";switch(t){case"mp4":case"m4v":case"m4a":return i+"mp4";case"webm":case"webma":case"webmv":return i+"webm";case"ogg":case"oga":case"ogv":return i+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return i+"mp2t";default:return i+t}}function u(e,t){return e&&!t?d(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t}function c(e,t,i){var n,o,s,a=[];if(t.type)if("string"==typeof t.type)a.push({type:t.type,url:i});else for(n=0;n<t.type.length;n++)a.push({type:t.type[n],url:i});else if(null!==i)a.push({type:u(i,e.getAttribute("type")),url:i});else for(n=0;n<e.children.length;n++)o=e.children[n],1==o.nodeType&&"source"==o.tagName.toLowerCase()&&(i=o.getAttribute("src"),a.push({type:u(i,o.getAttribute("type")),url:i}));if(p.features.isBustedAndroid&&(e.canPlayType=function(e){return/video\/(mp4|m4v)/i.test(e)?"maybe":""}),p.features.isChromium&&(e.canPlayType=function(e){return/video\/(webm|ogv|ogg)/i.test(e)?"maybe":""}),p.features.supportsCanPlayType)for(n=0;n<a.length;n++)if("video/m3u8"==a[n].type||""!==e.canPlayType(a[n].type).replace(/no/,"")||""!==e.canPlayType(a[n].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(a[n].type.replace(/m4a/,"mp4")).replace(/no/,"")){s=!0;break}return s}var p={};p.config={type:"",mediaTitle:"",nativeControls:!1,autoplay:!1,preload:"none",videoWidth:"100%",videoHeight:"auto",aspectRation:16/9,audioWidth:"100%",audioHeight:44,autoLoop:!1,timeFormatType:1,alwaysShowHours:!1,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,enableFullscreen:!0,pauseOtherPlayers:!0,duration:0,success:null,error:null},function(e){var t=window.navigator.userAgent.toLowerCase(),i=document.createElement("video");e.isiOS=/iphone|ipod|ipad/i.test(t)&&!window.MSStream,e.isAndroid=/android/i.test(t)&&!window.MSStream,e.isBustedAndroid=/android 2\.[12]/i.test(t),e.isChromium=/chromium/i.test(t),e.hasTouch="ontouchstart"in window,e.supportsCanPlayType=void 0!==i.canPlayType,e.isVendorBigPlay=/iphone/i.test(t)&&!window.MSStream,e.isVendorControls=/baidu/i.test(t),e.isVendorFullscreen=/micromessenger|weibo/i.test(t),e.isVendorAutoplay=/v819mini/i.test(t)||e.isiOS,e.nativeFullscreenPrefix=function(){return i.requestFullScreen?"":i.webkitRequestFullScreen?"webkit":i.mozRequestFullScreen?"moz":i.msRequestFullScreen?"ms":"-"}(),e.hasOldNativeFullScreen="-"==e.nativeFullscreenPrefix&&i.webkitEnterFullscreen,e.hasOldNativeFullScreen&&/mac os x 10_5/i.test(t)&&(e.nativeFullscreenPrefix="-",e.hasOldNativeFullScreen=!1)}(p.features={});var m=0;p.players={},p.MediaPlayer=function(e,t){var i,n=this;if(!e.isInstantiated){e.isInstantiated=!0,n.media=e;var o=n.media.tagName.toLowerCase();if(/audio|video/.test(o)){n.isVideo="video"===o,n.options={};for(i in p.config)n.options[i]=p.config[i];try{for(i in t)n.options[i]=t[i];var s=JSON.parse(n.media.getAttribute("data-config"));for(i in s)n.options[i]=s[i]}catch(e){}if(n.options.autoplay&&(n.options.autoplay=!p.features.isVendorAutoplay),n.isVideo||(n.options.alwaysShowControls=!0),n.options.nativeControls||p.features.isVendorControls)n.media.setAttribute("controls","controls");else{var a=n.media.getAttribute("src");a=""===a?null:a,c(n.media,n.options,a)?(n.id="zym_"+m++,p.players[n.id]=n,n.init()):alert("不支持此"+(n.isVideo?"视":"音")+"频")}}}},p.MediaPlayer.prototype={isControlsVisible:!0,isFullScreen:!1,setPlayerSize:function(e,t){var i=this,o=n(i.container,"width");if(e>o&&(i.width=o),i.enableAutoSize){var s=i.media.videoWidth,a=i.media.videoHeight;s&&a&&Math.abs(i.options.aspectRation-s/a)<.1&&(i.options.aspectRation=s/a),i.height=parseInt(o/i.options.aspectRation)}i.container.style.width=i.width+"px",i.media.style.height=i.container.style.height=i.height+"px"},showControls:function(){var e=this;e.isControlsVisible||(e.controls.style.bottom=0,e.options.mediaTitle&&(e.title.style.top=0),e.isControlsVisible=!0)},hideControls:function(){var e=this;e.isControlsVisible&&!e.options.alwaysShowControls&&(e.controls.style.bottom="-45px",e.options.mediaTitle&&(e.title.style.top="-35px"),e.isControlsVisible=!1)},setControlsTimer:function(e){var t=this;clearTimeout(t.controlsTimer),t.controlsTimer=setTimeout(function(){t.hideControls()},e)},updateTimeline:function(e){var t=this,i=void 0!==e?e.target:t.media,o=null,s=n(t.slider,"width");if(i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?o=i.buffered.end(i.buffered.length-1)/i.duration:void 0!==i.bytesTotal&&i.bytesTotal>0&&void 0!==i.bufferedBytes?o=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(o=e.loaded/e.total),null!==o&&(o=Math.min(1,Math.max(0,o)),t.loaded.style.width=s*o+"px",t.media.paused&&setTimeout(function(){t.loaded.style.width=s*o+"px",t.updateTimeline()},300)),void 0!==t.media.currentTime&&t.media.duration){var a=Math.round(s*t.media.currentTime/t.media.duration);t.current.style.width=a+"px",t.handle.style.left=a-Math.round(n(t.handle,"width")/2)+"px"}},updateTime:function(){var e=this;e.currentTime.innerHTML=r(e.media.currentTime,e.options),(e.options.duration>1||e.media.duration>1)&&(e.durationDuration.innerHTML=r(e.options.duration>1?e.options.duration:e.media.duration,e.options))},enterFullScreen:function(){var e=this;if(e.normalHeight=n(e.container,"height"),e.normalWidth=n(e.container,"width"),"-"!=p.features.nativeFullscreenPrefix)e.container[p.features.nativeFullscreenPrefix+"RequestFullScreen"]();else if(p.features.hasOldNativeFullScreen)return void e.media.webkitEnterFullscreen();s(document.documentElement,"zy_fullscreen"),e.media.style.width=e.container.style.width="100%",e.media.style.height=e.container.style.height="100%",s(e.fullscreenBtn,"zy_unfullscreen"),e.isFullScreen=!0},exitFullScreen:function(){var e=this;(l()||e.isFullScreen)&&("-"!=p.features.nativeFullscreenPrefix?document[p.features.nativeFullscreenPrefix+"CancelFullScreen"]():p.features.hasOldNativeFullScreen&&document.webkitExitFullscreen()),a(document.documentElement,"zy_fullscreen"),e.media.style.width=e.container.style.width=e.normalWidth+"px",e.media.style.height=e.container.style.height=e.normalHeight+"px",a(e.fullscreenBtn,"zy_unfullscreen"),e.isFullScreen=!1},buildContainer:function(){var e=this;e.container=e.media.parentNode,e.container.style.overflow="hidden",e.container.style.height=(e.isVideo?n(e.container,"width")/e.options.aspectRation:e.options.audioHeight)+"px",e.container.innerHTML='<div class="zy_wrap"></div><div class="zy_controls"></div>'+(e.options.mediaTitle?'<div class="zy_title">'+e.options.mediaTitle+"</div>":""),e.title=e.container.querySelector(".zy_title"),e.media.setAttribute("preload",e.options.preload),e.container.querySelector(".zy_wrap").appendChild(e.media),e.controls=e.container.querySelector(".zy_controls"),e.isVideo&&(e.width=e.options.videoWidth,e.height=e.options.videoHeight,"100%"==e.width&&"auto"==e.height&&(e.enableAutoSize=!0),e.setPlayerSize(e.width,e.height))},buildPlaypause:function(){function e(e){(t.media.isUserClick||t.options.autoplay)&&("play"===e?(a(i,"zy_play"),s(i,"zy_pause")):(a(i,"zy_pause"),s(i,"zy_play")))}var t=this,i=document.createElement("div");i.className="zy_playpause_btn zy_play",t.controls.appendChild(i),i.addEventListener("click",function(){t.media.isUserClick=!0,t.media.paused?(t.media.play(),t.media.paused||t.options.alwaysShowControls||t.setControlsTimer(3e3)):t.media.pause()}),t.media.addEventListener("play",function(){e("play")}),t.media.addEventListener("playing",function(){e("play")}),t.media.addEventListener("pause",function(){e("pse")}),t.media.addEventListener("paused",function(){e("pse")})},buildTimeline:function(){var e=this,t=document.createElement("div");t.className="zy_timeline",t.innerHTML='<div class="zy_timeline_slider"><div class="zy_timeline_buffering" style="display:none"></div><div class="zy_timeline_loaded"></div><div class="zy_timeline_current"></div><div class="zy_timeline_handle"></div></div>',e.controls.appendChild(t),e.slider=t.children[0],e.buffering=e.slider.children[0],e.loaded=e.slider.children[1],e.current=e.slider.children[2],e.handle=e.slider.children[3];var i=!1,o=e.slider.offsetLeft,s=n(e.slider,"width"),a=function(t){var n,a=0;n=t.changedTouches?t.changedTouches[0].pageX:t.pageX,e.media.duration&&(n<o?n=o:n>s+o&&(n=s+o),a=(n-o)/s*e.media.duration,i&&a!==e.media.currentTime&&(e.media.currentTime=a))};p.features.hasTouch?e.slider.addEventListener("touchstart",function(t){i=!0,a(t),o=e.slider.offsetLeft,s=n(e.slider,"width"),e.slider.addEventListener("touchmove",a),e.slider.addEventListener("touchend",function(t){i=!1,e.slider.removeEventListener("touchmove",a)})}):e.slider.addEventListener("mousedown",function(t){i=!0,a(t),o=e.slider.offsetLeft,s=n(e.slider,"width"),e.slider.addEventListener("mousemove",a),e.slider.addEventListener("mouseup",function(t){i=!1,e.slider.addEventListener("mousemove",a)})}),e.slider.addEventListener("mouseenter",function(t){e.slider.addEventListener("mousemove",a)}),e.slider.addEventListener("mouseleave",function(t){i||e.slider.removeEventListener("mousemove",a)}),e.media.addEventListener("timeupdate",function(t){e.updateTimeline(t)})},buildTime:function(){var e=this,t=document.createElement("div");t.className="zy_time",t.innerHTML='<span class="zy_currenttime">'+r(0,e.options)+'</span>/<span class="zy_duration">'+r(e.options.duration,e.options)+"</span>",e.controls.appendChild(t),e.currentTime=t.children[0],e.durationDuration=t.children[1],e.media.addEventListener("timeupdate",function(){e.updateTime()})},buildFullscreen:function(){var e=this;if("-"!=p.features.nativeFullscreenPrefix){var t=function(t){e.isFullScreen&&(l()||e.exitFullScreen())};document.addEventListener(p.features.nativeFullscreenPrefix+"fullscreenchange",t)}e.fullscreenBtn=document.createElement("div"),e.fullscreenBtn.className="zy_fullscreen_btn",e.controls.appendChild(e.fullscreenBtn),e.fullscreenBtn.addEventListener("click",function(){"-"!=p.features.nativeFullscreenPrefix&&l()||e.isFullScreen?e.exitFullScreen():e.enterFullScreen()})},buildDec:function(){var e=this,t=document.createElement("div");t.className="dec_loading",t.style.display="none",e.container.appendChild(t);var i=document.createElement("div");i.className="dec_error",i.style.display="none",i.innerHTML="播放异常",e.container.appendChild(i);var n=document.createElement("div");p.features.isVendorBigPlay||(n.className="dec_play",e.container.appendChild(n),n.addEventListener("click",function(){e.media.isUserClick=!0,e.media.play(),e.media.paused||e.options.alwaysShowControls||e.setControlsTimer(3e3)})),e.media.addEventListener("play",function(){e.media.isUserClick&&(n.style.display="none",t.style.display="",e.buffering.style.display="none")}),e.media.addEventListener("playing",function(){n.style.display="none",t.style.display="none",e.buffering.style.display="none",i.style.display="none"}),e.media.addEventListener("seeking",function(){t.style.display="",n.style.display="none",e.buffering.style.display=""}),e.media.addEventListener("seeked",function(){t.style.display="none",e.buffering.style.display="none"}),e.media.addEventListener("pause",function(){n.style.display=""}),e.media.addEventListener("waiting",function(){t.style.display="",n.style.display="none",e.buffering.style.display=""}),e.media.addEventListener("error",function(o){t.style.display="none",n.style.display="",e.buffering.style.display="none",e.media.pause(),i.style.display="","function"==typeof e.options.error&&e.options.error(o)})},init:function(){var e=this,t=["Container","Playpause","Timeline","Time"];e.options.enableFullscreen&&!p.features.isVendorFullscreen&&e.isVideo&&t.push("Fullscreen"),e.isVideo&&t.push("Dec");for(var i=0;i<t.length;i++)try{e["build"+t[i]]()}catch(e){}e.isVideo&&(p.features.hasTouch?e.media.addEventListener("click",function(){e.isControlsVisible?e.hideControls():(e.showControls(),e.media.paused||e.options.alwaysShowControls||e.setControlsTimer(3e3))}):(e.media.addEventListener("click",function(){e.media.paused?e.media.play():e.media.pause()}),e.container.addEventListener("mouseenter",function(){e.showControls(),e.options.alwaysShowControls||e.setControlsTimer(3e3)}),e.container.addEventListener("mousemove",function(){e.showControls(),e.options.alwaysShowControls||e.setControlsTimer(3e3)})),e.options.hideVideoControlsOnLoad&&e.hideControls(),e.media.addEventListener("loadedmetadata",function(t){e.enableAutoSize&&setTimeout(function(){isNaN(e.media.videoHeight)||e.setPlayerSize()},50)})),e.media.addEventListener("play",function(){var t;for(var i in p.players)if(t=p.players[i],t.id!=e.id&&e.options.pauseOtherPlayers&&!t.paused&&!t.ended)try{t.media.pause()}catch(e){}}),window.addEventListener("orientationchange",function(){setTimeout(function(){e.setPlayerSize()},500)}),e.media.addEventListener("ended",function(t){e.media.currentTime=0,e.options.autoLoop?e.media.play():(e.isVideo&&setTimeout(function(){e.container.querySelector(".dec_loading").style.display="none"},20),e.media.pause()),e.updateTimeline(t)}),e.media.addEventListener("loadedmetadata",function(t){e.updateTime()}),e.options.autoplay&&(e.media.isUserClick=!1,e.media.play()),"function"==typeof e.options.success&&e.options.success(e.media)}},t.a=function(e,t){return new p.MediaPlayer(e,t)}},function(e,t,i){"use strict";function n(e){i(2)}Object.defineProperty(t,"__esModule",{value:!0});var o=(i(3),i(4)),s=i(5),a=i(6),r=n,l=Object(a.a)(o.a,s.a,s.b,!1,r,null,null);t.default=l.exports},function(e,t){},function(e,t,i){"use strict";var n=i(0);String,String},function(e,t,i){"use strict";var n=i(0);t.a={name:"video",props:{cover:String,video:String},beforeCreate:function(){this._player=Object(n.a)(this.$el.querySelector("video"))}}},function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"zy_media"},[i("video",{attrs:{poster:e.cover,"data-config":'{"mediaTitle": "《疯狂动物城》--腾讯视频"}'}},[i("source",{attrs:{src:e.video,type:"video/mp4"}}),e._v("\n      您的浏览器不支持HTML5视频\n  ")])])},o=[]},function(e,t,i){"use strict";function n(e,t,i,n,o,s,a,r){e=e||{};var l=typeof e.default;"object"!==l&&"function"!==l||(e=e.default);var d="function"==typeof e?e.options:e;t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),s&&(d._scopeId=s);var u;if(a?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):o&&(u=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(e,t){return u.call(t),c(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,u):[u]}return{exports:e,options:d}}t.a=n}])});