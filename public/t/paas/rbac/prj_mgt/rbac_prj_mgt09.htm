<!-- rbac_prj_mgt09 页面ID配置页面 -->
<div class="modal fade" id="rbac_prj_mgt09_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
          &times;
        </button>
        <h4 class="modal-title">页面配置</h4>
      </div>
      <div class="modal-body no-padding">
        <form id="rbac_prj_mgt09_form" method="post" onsubmit="return false;" class="smart-form">
          <fieldset id="afieldset11" name="afieldset11">
            <input type="hidden" name="prjid">
            <input type="hidden" name="op_type">
            <div class="row">
              <section class="col col-6">
                <label class="label" for="pageid">页面ID</label>
                <label class="input">
                  <input type="text" class="input-xs" name="pageid" id="pageid" placeholder="页面ID">
                </label>
              </section>
              <section class="col col-6">
                <label class="label" for="pagenm">页面名称</label>
                <label class="input">
                  <input type="text" name="pagenm" id="pagenm" class="input-xs" placeholder="页面名称">
                </label>
              </section>
            </div>
            <div>
              <section>
                <label class="label" for="page_path">页面路径</label>
                <label class="input">
                  <input type="text" name="page_path" id="page_path" class="input-xs" placeholder="页面路径">
                </label>
              </section>
            </div>
            <div>
              <section>
                <button type="button" id="rbac_prj_mgt09_btn_add_element" class="btn btn-primary btn-xs">添加组件</button>
              </section>
              <section id="rbac_prj_mgt09_elements">
                <script id="rbac_prj_mgt09_tmpl_elements" type="text/x-jsrender">
                  <fieldset id="fieldsetelements" name="fieldsetelements">
                    <legend>
                      <div class="btn-group">
                      {{if is_init}}
                        <input type="hidden" name="elementid" value="{{: elementid}}">
                        <section class="col col-3">
                          <label class="input">
                          <input type="text" class="input-xs" style="border:none;" name="elementnm" value="{{: elementnm}}" readonly>
                          </label>
                        </section>
                        <section class="col col-3">
                          <label class="input">
                            <input type="text" class="input-xs" style="border:none;" disabled="disabled">
                          </label>
                        </section>
                      {{else}}
                        <section class="col col-3">
                          <label class="input">
                          <input type="text" class="input-xs" name="elementid" value="{{: elementid}}" placeholder="元素ID">
                          </label>
                        </section>
                        <section class="col col-3">
                          <label class="input">
                          <input type="text" class="input-xs" name="elementnm" value="{{: elementnm}}" placeholder="元素名称">
                          </label>
                        </section>
                        <button type="button" id="del_element" class="btn btn-primary btn-xs pull-right">
                          <i class="fa fa-trash-o"></i>&nbsp;删除组件
                        </button>
                        {{/if}}
                        <button type="button" id="set_srv" class="btn btn-primary btn-xs pull-right">
                          <i class="fa fa-magic"></i>&nbsp;选择服务
                        </button>
                      </div>
                    </legend>
                    {{if children && children.length}}
                      {{for children}}
                      <div id="divsrv">
                        <section>
                          <label class="input">
                        {{if is_model}}
                            <input type="text" class="input-xs" style="border:none;" name="model" value="{{: modelid + ' / ' + modelnm}}" readonly>
                        {{else}}
                            <input type="text" class="input-xs" style="border:none;" name="api" value="{{: appid + '/' + moduleid + '/' + apiid + ' / ' + appnm + '/' + modulenm + '/' + apinm}}" readonly>
                        {{/if}}
                          </label>
                        </section>
                      </div>
                      {{/for}}
                    {{/if}}
                  </fieldset>
                </script>
              </section>
            </div>
            <div>
              <section>
                <button type="button" id="rbac_prj_mgt09_btn_add_page" class="btn btn-primary btn-xs">添加关联页面</button>
              </section>
              <div id="rbac_prj_mgt09_pages">
                <script id="rbac_prj_mgt09_tmpl_pages" type="text/x-jsrender">
                  <div id="divpages" class="btn-group">
                    <section class="col col-3">
                      <label class="input">
                        <input type="text" name="next_pageid" value="{{: next_pageid}}" class="input-xs" style="border:none;" readonly>
                      </label>
                    </section>
                    <section class="col col-3">
                      <label class="input">
                        <input type="text" name="pagenm" id="pagenm" value="{{: pagenm}}" class="input-xs" style="border:none;" readonly>
                      </label>
                    </section>
                    <button type="button" id="del_next_page" class="btn btn-primary btn-xs pull-right">
                      <i class="fa fa-trash-o"></i>&nbsp;删除关联页面
                    </button>
                  </div>
                </script>
              </div>
            </div>
          </fieldset>
          <footer>
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="submit" class="btn btn-primary">确定</button>
          </footer>
        </form>
      </div>
    </div>
  </div>
</div>
<div id="rbac_prj_mgt09_prjid" data-prjid='###query.prjid###'></div>
<div id="rbac_prj_mgt09_pageid" data-pageid='###query.pageid###'></div>
<div id="rbac_prj_mgt09_op_type" data-op_type='###query.op_type###'></div>
<div id="rbac_prj_mgt09_selfid" data-selfid='###query.selfid###'></div>
<script src="lib/js/plugin/jquery-jsrender/jsrender.min.js"></script>
<script src="rbac/prj_mgt/rbac_prj_mgt09.js"></script>
<script>
  (function () {
    // var obj_rbac_prj_mgt09 = new rbac_prj_mgt09($('#rbac_prj_mgt09_prjid').data('prjid'),$('#rbac_prj_mgt09_pageid').data('pageid'),$('#rbac_prj_mgt09_op_type').data('op_type'));
    rbac_prj_mgt09_cache[$('#rbac_prj_mgt09_selfid').attr('data-selfid')] = new rbac_prj_mgt09($('#rbac_prj_mgt09_prjid').data('prjid'),$('#rbac_prj_mgt09_pageid').data('pageid'),$('#rbac_prj_mgt09_op_type').data('op_type'));;
  })();
</script>