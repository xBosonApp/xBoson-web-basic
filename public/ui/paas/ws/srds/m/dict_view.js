dict_view=function(){var a=t.prototype;function t(t){var e;a.typecd=t,i.find("input[name=typecd]").val(t),e=function(){a.Toolbar(),$("#dict_view_search").click()},zy.g.am.app="faac7c3dc3844e61a8ca4bd7ab2ff096",zy.g.am.mod="dict",zy.net.get("api/versions",function(t){t&&t.versions&&(0==t.versions.length?i.find("input[name=version][data-type=select2]").remove():(i.find("input[name=version][type=text]").remove(),i.find("input[name=version][data-type=select2]").zySelectCustomData("",!0,{width:"100%"},t.versions)),zy.cache.initDicts("ZR.0001",function(){i.find("input[name=status]").zySelect("ZR.0001",!1,{width:"100%"}),e&&e()}))},{typecd:a.typecd})}a.typecd=null,a.count=0,a.currentPage=0;var i=$("#dict_view_search_form"),c=$("#dict_view_dt");return a.DataTable=function(t){var e={data:t,columns:[{data:"typecd"},{data:"version"},{data:"dictcd"},{data:"dictnm"},{data:"shortkey"},{render:function(t,e,a,i){return zy.cache.cd2name("ZR.0001",a.status)}}]};$.extend(e,zy.ui.dataTable),c.dataTable(e),$(".dataTables_scrollHeadInner").css("width","100%"),$(".dataTables_scrollBody table").css("width","100%"),$(".dataTables_scrollHeadInner table").css("width","100%")},a.Toolbar=function(){c.on("click","tr",function(t){if($(this).find("th").is("th")||$(this).find("td").hasClass("dataTables_empty"))return!1;!$(this).find("div").hasClass("popover")&&$(this).hasClass("active")?($(this).removeClass("active"),$("#dict_view_edit").btnDisable(!0),$("#dict_view_del").btnDisable(!0)):(c.DataTable().$("tr.active").removeClass("active"),$(this).addClass("active"),$("#dict_view_edit").btnDisable(!1),$("#dict_view_del").btnDisable(!1))}),$("#dict_view_add").click(function(){zy.net.loadHTML("ws/srds/m/dict_modal.html",$("#dict_view_modal"),function(){dict_modal("i",{typecd:a.typecd})})}),$("#dict_view_edit").click(function(){var t=c.DataTable().row(".active").data();zy.net.loadHTML("ws/srds/m/dict_modal.html",$("#dict_view_modal"),function(){dict_modal("u",{typecd:t.typecd,version:t.version,dictcd:t.dictcd})})}),$("#dict_view_search").click(function(){$("#dict_view_edit").btnDisable(!0),$("#dict_view_del").btnDisable(!0),$("#dict_view_search").button("loading"),a.Pagination(1)}),$("#dict_view_del").click(function(){var t=c.DataTable().row(".active").data();zy.ui.mask("删除确认","是否确认删除此条数据",function(){zy.g.am.app="faac7c3dc3844e61a8ca4bd7ab2ff096",zy.g.am.mod="dict",zy.net.get("api/deldict",function(t){t&&"0"==t.ret&&(zy.ui.msg("提示","删除成功","s"),a.SetDt(a.currentPage),$("#dict_view_edit").btnDisable(!0),$("#dict_view_del").btnDisable(!0))},{typecd:t.typecd,version:t.version,dictcd:t.dictcd})})})},a.Pagination=function(e){$.jqPaginator("#dict_view_pagination",{totalCounts:10,pageSize:zy.g.page.pagesize,currentPage:e,onPageChange:function(t){a.currentPage=e,a.SetDt(t)}})},a.SetDt=function(e){zy.g.am.app="faac7c3dc3844e61a8ca4bd7ab2ff096",zy.g.am.mod="dict",zy.net.get("api/querydict",function(t){$("#dict_view_search").button("reset"),t&&(a.DataTable(t.result),0<t.count?($("[name=dict_view_total_count]").html("总数："+t.count),$("#dict_view_pagination").jqPaginator("option",{totalCounts:t.count,pageSize:zy.g.page.pagesize,currentPage:e})):$("#dict_view_pagination").jqPaginator("destroy"),pageSetUp())},i.serialize(),e)},a.UpdDt=function(){a.SetDt(a.currentPage)},t}();