MgtSystemList=function(){var a,t=s.prototype;t._g={data:[],param:{},page:1,count:1};var e=$("#mgt_sys_system_getsystemlist_dt");function s(){return Console.log("new MgtSystemList()"),(a=this).Init(),this}return t.Events={},t.Init=function(){a.DataTable(),a.Toolbar(),a.SetDt()},t.DataTable=function(t){var s={data:t,columns:[{data:"apilist",render:function(t,s,a,e){return"<input name='apilist' class='btn btn-info btn-xs' type='button' value= '&emsp;API 列表&emsp;' ><input name='modellist' class='btn btn-info btn-xs' type='button' value= '&emsp;模型 列表&emsp;' >"}},{data:"sysid"},{data:"sysnm"},{render:function(t,s,a,e){return zy.cache.cd2name("ZR.0001",a.status)}}]};$.extend(s,zy.ui.dataTable),e.dataTable(s),$(".dataTables_scrollHeadInner").css("width","100%"),$(".dataTables_scrollBody table").css("width","100%"),$(".dataTables_scrollHeadInner table").css("width","100%")},t.Toolbar=function(){e.on("click","tr",function(t){if(Console.log('this.is("tr") = '+$(this).find("th").is("th")+" : "+$(this).find("td").hasClass("dataTables_empty")),$(this).find("th").is("th")||$(this).find("td").hasClass("dataTables_empty"))return!1;Console.log($(t.target).is("button")+"==== "+$(t.target).parents("form").html());var s=e.DataTable().row(this).data();$(t.target).is("input")&&"apilist"==$(t.target).attr("name")&&(a._g.param.sysid=s.sysid,zy.net.loadHTML("mgt/sys_system/get_system_api.html",$("#mgt_sys_system_getsystemlist_form2"))),$(t.target).is("input")&&"modellist"==$(t.target).attr("name")&&(a._g.param.sysid=s.sysid,zy.net.loadHTML("mgt/sys_system/get_system_model.html",$("#mgt_sys_system_getsystemlist_form2"))),$(t.target).is("button")&&a.SaveStatus($(t.target).parents("form")),!$(this).find("div").hasClass("popover")&&$(this).hasClass("active")?$(this).removeClass("active"):(e.DataTable().$("tr.active").removeClass("active"),$(this).addClass("active"))})},t.SetDt=function(){zy.g.am.pagesize=1e4;zy.g.comm.app="zyapp_sysmgt",zy.g.comm.mod="userserver",zy.net.get("api/jionsystem",function(t){t&&(a.DataTable(t.result),a._g.data=t.result)},{},1)},s}();